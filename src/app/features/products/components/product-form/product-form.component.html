<form class="w-full p-6 space-y-5" [formGroup]="productForm">
  <h2 class="text-xl font-semibold text-center text-gray-800">
    {{ data.id ? 'Actualizar producto' : 'Crear producto' }}
  </h2>

  <!-- Nombre -->
  <mat-form-field appearance="fill" class="w-full">
    <mat-label>Nombre</mat-label>
    <input matInput formControlName="name" [(ngModel)]="product.name" />
    <mat-error *ngIf="productForm.controls.name.invalid">Debe ingresar un nombre</mat-error>
  </mat-form-field>

  <!-- Descripción -->
  <mat-form-field appearance="fill" class="w-full">
    <mat-label>Descripción</mat-label>
    <textarea matInput rows="2" formControlName="descripcion" [(ngModel)]="product.descripcion"></textarea>
    <mat-error *ngIf="productForm.controls.descripcion.invalid">Debe ingresar una descripción</mat-error>
  </mat-form-field>

  <!-- Imagen -->
  <mat-form-field appearance="fill" class="w-full">
    <mat-label>URL de la imagen</mat-label>
    <input matInput formControlName="imagen" [(ngModel)]="product.imagen" />
    <mat-error *ngIf="productForm.controls.imagen.invalid">Debe ingresar una URL válida</mat-error>
  </mat-form-field>

  <!-- Precio -->
  <mat-form-field appearance="fill" class="w-full">
    <mat-label>Precio</mat-label>
    <input
      matInput
      type="number"
      formControlName="precio"
      [(ngModel)]="product.precio"
      min="0"
      placeholder="0"
    />
    <mat-error *ngIf="productForm.controls.precio.invalid">Precio no válido</mat-error>
  </mat-form-field>

  <!-- Botones -->
  <div class="flex justify-end gap-3 pt-4">
    <button mat-stroked-button color="primary" (click)="dialogRef.close()">Cancelar</button>
    
    <button
      mat-flat-button
      color="primary"
      *ngIf="!data.id"
      (click)="createProduct()"
      [disabled]="productForm.invalid"
    >
      Crear
    </button>

    <button
      mat-flat-button
      color="primary"
      *ngIf="data.id"
      (click)="updateProduct()"
      [disabled]="productForm.invalid"
    >
      Actualizar
    </button>
  </div>
</form>